architecture:
    output_channels : 2
    input_shape : [256,256, 1]
    pool_size : [2, 2]
    activation : 'relu'
    conv_kwargs : None
    norm_kwargs : None
    use_existing : False
    modify_model: False
    output_activation: 'softmax'

stratifier_params:
    train_folds:
        - '/mnt/dfs/2018C000001/datasets/19-08-02_c1c2_pr_regen/folds/fold_1.csv'
        - '/mnt/dfs/2018C000001/datasets/19-08-02_c1c2_pr_regen/folds/fold_2.csv'
        - '/mnt/dfs/2018C000001/datasets/19-08-02_c1c2_pr_regen/folds/fold_3.csv'
        - '/mnt/dfs/2018C000001/datasets/19-08-02_c1c2_pr_regen/folds/fold_4.csv'
    val_fold : '/mnt/dfs/2018C000001/datasets/19-08-02_c1c2_pr_regen/folds/fold_0.csv' 

modify_params: 
    conv_layers : 'None'
    freeze : None

generator: 
    epochs : 250
    output : 'mask'
    load_type: 'dataframe'
    custom_generator: False
    jitter: True

optimizer_params:
    dimension: '2D'
    optimizer : 'adam'
    loss : 'dice_coef_multiclass_loss_2D'
    schedule : False
    metrics: None
    evaluation_method: 'bayesian_cluster'
    initial_design_numdata: 10

info:
    num_gpus : 2
    batch_size : 8
    tensorboard_path : '/mnt/netapp/CSpine/results/experimental/fracture_segmentation/trial_11/tensorboard/'
    checkpoint_path : '/mnt/netapp/CSpine/results/experimental/fracture_segmentation/trial_11/models/'
    namer : True
    read_order: ['learning_rate', 'num_convs', 'network', 'dropout', 'kernel', 'normalize',  'vertical_flip']
    
preprocessing:
    pad : True
    pad_size : [256,256,8]
    resample : True
    resample_size : [256,256,8]
    vertebrae_mask_dilation : 40
    vertebrae_inside_box : [1, 2]
    generate_data : False
    copy_data: True
    save_rolling: True
    save_volume: False
    remove_negative_fractures: True
    multiprocess_data_gen: False
    normalize_by: zm_uv
    pool: 70
    
notes: 
    note : '2D Positives only.'

manager:
    clean: False
    record: True
    manager_host : 'd7920-12.ccds.io'
    manager_port : 27021
    manager_database : 'fracture_segmentation'
    manager_collection : 'trial_11'
    start_recording : 5
    train_metric_name : None
    save_best_only : False
    save_weights_only : False

controller:
    controller_host : 'd7920-12.ccds.io'
    controller_port : 27021
    controller_database : 'experiment_controller'
    controller_collection: 'trial_XX'
    controller_ssl_ca_file: '/mnt/netapp/workspace/pki/mongo/mongodb_serverCA.pem'
    num_warm_up: 10
    max_iter: 75
    max_local_iter: 5

hyperparameters:
    param_1:
        name: 'learning_rate'
        type: 'discrete'
        domain: (0.005, 0.001)
        
    param_3:
        name: 'num_convs'
        type: 'discrete'
        domain: (1, 2)

    param_4:
        name: 'network'
        type: 'discrete'
        domain: (0,1,2,3,4)

    param_5:
        name: 'dropout'
        type: 'discrete'
        domain: (0, 0.1, 0.2)

    param_6:
        name: 'kernel'
        type: 'discrete'
        domain: (3, 5)
    
    param_8:
        name: 'normalize'
        type: 'discrete'
        domain: (0, 1)
        
    param_9:
        name: 'vertical_flip'
        type: 'discrete'
        domain: (0, 1)